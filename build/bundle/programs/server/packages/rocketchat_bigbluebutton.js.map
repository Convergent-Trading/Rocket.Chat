{"version":3,"sources":["meteor://ðŸ’»app/packages/rocketchat:bigbluebutton/server/bigbluebutton-api.js"],"names":["crypto","module","watch","require","default","v","BigBlueButtonApi","filterCustomParameters","include","noChecksumMethods","root","__indexOf","indexOf","item","i","l","length","url","salt","debug","opts","_base","shaType","prototype","availableApiCalls","urlParamsFor","param","filterParams","params","method","filters","r","key","value","filter","_i","_len","RegExp","match","urlFor","checksum","keys","paramList","property","query","sep","console","log","push","sort","encodeForUrl","join","call","c","shaObj","str","createHash","update","digest","encodeURIComponent","replace","escape","setMobileProtocol","input","_function","_match","_obj","Object","exportDefault"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA,IAAIA,MAAJ;AAAWC,OAAOC,KAAP,CAAaC,QAAQ,QAAR,CAAb,EAA+B;AAACC,UAAQC,CAAR,EAAU;AAACL,aAAOK,CAAP;AAAS;;AAArB,CAA/B,EAAsD,CAAtD;;AAGX,IAAIC,gBAAJ;AAAA,IAAsBC,sBAAtB;AAAA,IAA8CC,OAA9C;AAAA,IAAuDC,iBAAvD;AAAA,IAA0EC,IAA1E;AAAA,IACCC,YAAY,GAAGC,OAAH,IAAc,UAAUC,IAAV,EAAgB;AAAE,OAAK,IAAIC,IAAI,CAAR,EAAWC,IAAI,KAAKC,MAAzB,EAAiCF,IAAIC,CAArC,EAAwCD,GAAxC,EAA6C;AAAE,QAAIA,KAAK,IAAL,IAAa,KAAKA,CAAL,MAAYD,IAA7B,EAAmC,OAAOC,CAAP;AAAW;;AAAC,SAAO,CAAC,CAAR;AAAY,CADvJ;;AAGAR,mBAAoB,YAAY;AAC/B,WAASA,gBAAT,CAA0BW,GAA1B,EAA+BC,IAA/B,EAAqCC,KAArC,EAA4CC,IAA5C,EAAkD;AACjD,QAAIC,KAAJ;;AACA,QAAIF,SAAS,IAAb,EAAmB;AAClBA,cAAQ,KAAR;AACA;;AACD,QAAIC,QAAQ,IAAZ,EAAkB;AACjBA,aAAO,EAAP;AACA;;AACD,SAAKH,GAAL,GAAWA,GAAX;AACA,SAAKC,IAAL,GAAYA,IAAZ;AACA,SAAKC,KAAL,GAAaA,KAAb;AACA,SAAKC,IAAL,GAAYA,IAAZ;;AACA,QAAI,CAACC,QAAQ,KAAKD,IAAd,EAAoBE,OAApB,IAA+B,IAAnC,EAAyC;AACxCD,YAAMC,OAAN,GAAgB,MAAhB;AACA;AACD;;AAEDhB,mBAAiBiB,SAAjB,CAA2BC,iBAA3B,GAA+C,YAAY;AAC1D,WAAO,CAAC,GAAD,EAAM,QAAN,EAAgB,MAAhB,EAAwB,kBAAxB,EAA4C,gBAA5C,EAA8D,KAA9D,EAAqE,aAArE,EAAoF,qBAApF,EAA2G,cAA3G,EAA2H,OAA3H,EAAoI,WAApI,EAAiJ,SAAjJ,EAA4J,eAA5J,EAA6K,mBAA7K,EAAkM,kBAAlM,EAAsN,kBAAtN,EAA0O,cAA1O,CAAP;AACA,GAFD;;AAIAlB,mBAAiBiB,SAAjB,CAA2BE,YAA3B,GAA0C,UAAUC,KAAV,EAAiB;AAC1D,YAAQA,KAAR;AACC,WAAK,QAAL;AACC,eAAO,CAAC,CAAC,WAAD,EAAc,IAAd,CAAD,EAAsB,CAAC,MAAD,EAAS,IAAT,CAAtB,EAAsC,CAAC,YAAD,EAAe,KAAf,CAAtC,EAA6D,CAAC,aAAD,EAAgB,KAAhB,CAA7D,EAAqF,CAAC,SAAD,EAAY,KAAZ,CAArF,EAAyG,CAAC,YAAD,EAAe,KAAf,CAAzG,EAAgI,CAAC,aAAD,EAAgB,KAAhB,CAAhI,EAAwJ,CAAC,UAAD,EAAa,KAAb,CAAxJ,EAA6K,CAAC,WAAD,EAAc,KAAd,CAA7K,EAAmM,CAAC,iBAAD,EAAoB,KAApB,CAAnM,EAA+N,CAAC,QAAD,EAAW,KAAX,CAA/N,EAAkP,CAAC,UAAD,EAAa,KAAb,CAAlP,EAAuQ,CAAC,sBAAD,EAAyB,KAAzB,CAAvQ,EAAwS,CAAC,oBAAD,EAAuB,KAAvB,CAAxS,EAAuU,CAAC,yBAAD,EAA4B,KAA5B,CAAvU,EAA2W,CAAC,UAAD,EAAa,KAAb,CAA3W,CAAP;;AACD,WAAK,MAAL;AACC,eAAO,CAAC,CAAC,UAAD,EAAa,IAAb,CAAD,EAAqB,CAAC,WAAD,EAAc,IAAd,CAArB,EAA0C,CAAC,UAAD,EAAa,IAAb,CAA1C,EAA8D,CAAC,YAAD,EAAe,KAAf,CAA9D,EAAqF,CAAC,QAAD,EAAW,KAAX,CAArF,EAAwG,CAAC,cAAD,EAAiB,KAAjB,CAAxG,EAAiI,CAAC,aAAD,EAAgB,KAAhB,CAAjI,EAAyJ,CAAC,WAAD,EAAc,KAAd,CAAzJ,EAA+K,CAAC,UAAD,EAAa,KAAb,CAA/K,EAAoM,CAAC,WAAD,EAAc,KAAd,CAApM,CAAP;;AACD,WAAK,kBAAL;AACC,eAAO,CAAC,CAAC,WAAD,EAAc,IAAd,CAAD,CAAP;;AACD,WAAK,KAAL;AACC,eAAO,CAAC,CAAC,WAAD,EAAc,IAAd,CAAD,EAAsB,CAAC,UAAD,EAAa,IAAb,CAAtB,CAAP;;AACD,WAAK,gBAAL;AACC,eAAO,CAAC,CAAC,WAAD,EAAc,IAAd,CAAD,EAAsB,CAAC,UAAD,EAAa,IAAb,CAAtB,CAAP;;AACD,WAAK,eAAL;AACC,eAAO,CAAC,CAAC,WAAD,EAAc,KAAd,CAAD,EAAuB,CAAC,UAAD,EAAa,KAAb,CAAvB,EAA4C,CAAC,OAAD,EAAU,KAAV,CAA5C,EAA8D,CAAC,UAAD,EAAa,KAAb,CAA9D,CAAP;;AACD,WAAK,mBAAL;AACC,eAAO,CAAC,CAAC,UAAD,EAAa,IAAb,CAAD,EAAqB,CAAC,SAAD,EAAY,IAAZ,CAArB,CAAP;;AACD,WAAK,kBAAL;AACC,eAAO,CAAC,CAAC,UAAD,EAAa,IAAb,CAAD,CAAP;;AACD,WAAK,kBAAL;AACC,eAAO,CAAC,CAAC,UAAD,EAAa,IAAb,CAAD,EAAqB,CAAC,UAAD,EAAa,KAAb,CAArB,CAAP;;AACD,WAAK,cAAL;AACC,eAAO,CAAC,CAAC,aAAD,EAAgB,KAAhB,CAAD,EAAyB,CAAC,WAAD,EAAc,KAAd,CAAzB,CAAP;AApBF;AAsBA,GAvBD;;AAyBApB,mBAAiBiB,SAAjB,CAA2BI,YAA3B,GAA0C,UAAUC,MAAV,EAAkBC,MAAlB,EAA0B;AACnE,QAAIC,OAAJ,EAAaC,CAAb;AACAD,cAAU,KAAKL,YAAL,CAAkBI,MAAlB,CAAV;;AACA,QAAKC,WAAW,IAAZ,IAAqBA,QAAQd,MAAR,KAAmB,CAA5C,EAA+C;AAC9C,OAAC,EAAD;AACA,KAFD,MAEO;AACNe,UAAIvB,QAAQoB,MAAR,EAAgB,UAAUI,GAAV,EAAeC,KAAf,EAAsB;AACzC,YAAIC,MAAJ,EAAYC,EAAZ,EAAgBC,IAAhB;;AACA,aAAKD,KAAK,CAAL,EAAQC,OAAON,QAAQd,MAA5B,EAAoCmB,KAAKC,IAAzC,EAA+CD,IAA/C,EAAqD;AACpDD,mBAASJ,QAAQK,EAAR,CAAT;;AACA,cAAID,OAAO,CAAP,aAAqBG,MAAzB,EAAiC;AAChC,gBAAIL,IAAIM,KAAJ,CAAUJ,OAAO,CAAP,CAAV,KAAwBF,IAAIM,KAAJ,CAAU,UAAV,CAA5B,EAAmD;AAClD,qBAAO,IAAP;AACA;AACD,WAJD,MAIO;AACN,gBAAIN,IAAIM,KAAJ,CAAU,MAAMJ,OAAO,CAAP,CAAN,GAAkB,GAA5B,KAAoCF,IAAIM,KAAJ,CAAU,UAAV,CAAxC,EAA+D;AAC9D,qBAAO,IAAP;AACA;AACD;AACD;;AACD,eAAO,KAAP;AACA,OAfG,CAAJ;AAgBA;;AACD,WAAO/B,uBAAuBwB,CAAvB,CAAP;AACA,GAxBD;;AA0BAzB,mBAAiBiB,SAAjB,CAA2BgB,MAA3B,GAAoC,UAAUV,MAAV,EAAkBD,MAAlB,EAA0BM,MAA1B,EAAkC;AACrE,QAAIM,QAAJ,EAAcR,GAAd,EAAmBS,IAAnB,EAAyBf,KAAzB,EAAgCgB,SAAhC,EAA2CC,QAA3C,EAAqDC,KAArD,EAA4DC,GAA5D,EAAiE5B,GAAjE,EAAsEkB,EAAtE,EAA0EC,IAA1E;;AACA,QAAIF,UAAU,IAAd,EAAoB;AACnBA,eAAS,IAAT;AACA;;AACD,QAAI,KAAKf,KAAT,EAAgB;AACf2B,cAAQC,GAAR,CAAY,oBAAZ,EAAkClB,MAAlC;AACA;;AACD,QAAIK,MAAJ,EAAY;AACXN,eAAS,KAAKD,YAAL,CAAkBC,MAAlB,EAA0BC,MAA1B,CAAT;AACA,KAFD,MAEO;AACND,eAASrB,uBAAuBqB,MAAvB,CAAT;AACA;;AACDX,UAAM,KAAKA,GAAX;AACAyB,gBAAY,EAAZ;;AACA,QAAId,UAAU,IAAd,EAAoB;AACnBa,aAAO,EAAP;;AACA,WAAKE,QAAL,IAAiBf,MAAjB,EAAyB;AACxBa,aAAKO,IAAL,CAAUL,QAAV;AACA;;AACDF,aAAOA,KAAKQ,IAAL,EAAP;;AACA,WAAKd,KAAK,CAAL,EAAQC,OAAOK,KAAKzB,MAAzB,EAAiCmB,KAAKC,IAAtC,EAA4CD,IAA5C,EAAkD;AACjDH,cAAMS,KAAKN,EAAL,CAAN;;AACA,YAAIH,OAAO,IAAX,EAAiB;AAChBN,kBAAQE,OAAOI,GAAP,CAAR;AACA;;AACD,YAAIN,SAAS,IAAb,EAAmB;AAClBgB,oBAAUM,IAAV,CAAe,KAAM,KAAKE,YAAL,CAAkBlB,GAAlB,CAAN,GAAgC,GAAhC,GAAuC,KAAKkB,YAAL,CAAkBxB,KAAlB,CAAtD;AACA;AACD;;AACD,UAAIgB,UAAU1B,MAAV,GAAmB,CAAvB,EAA0B;AACzB4B,gBAAQF,UAAUS,IAAV,CAAe,GAAf,CAAR;AACA;AACD,KAlBD,MAkBO;AACNP,cAAQ,EAAR;AACA;;AACDJ,eAAW,KAAKA,QAAL,CAAcX,MAAd,EAAsBe,KAAtB,CAAX;;AACA,QAAIF,UAAU1B,MAAV,GAAmB,CAAvB,EAA0B;AACzB4B,cAAQ,KAAKf,MAAL,GAAc,GAAd,GAAoBe,KAA5B;AACAC,YAAM,GAAN;AACA,KAHD,MAGO;AACN,UAAIhB,WAAW,GAAf,EAAoB;AACnBe,gBAAQf,MAAR;AACA;;AACDgB,YAAM,GAAN;AACA;;AACD,QAAIlC,UAAUyC,IAAV,CAAe3C,mBAAf,EAAoCoB,MAApC,IAA8C,CAAlD,EAAqD;AACpDe,cAAQ,KAAKA,KAAL,GAAaC,GAAb,GAAmB,WAAnB,GAAiCL,QAAzC;AACA;;AACD,WAAO,KAAKvB,GAAL,GAAW,GAAX,GAAiB2B,KAAxB;AACA,GAlDD;;AAoDAtC,mBAAiBiB,SAAjB,CAA2BiB,QAA3B,GAAsC,UAAUX,MAAV,EAAkBe,KAAlB,EAAyB;AAC9D,QAAIS,CAAJ,EAAOC,MAAP,EAAeC,GAAf;AACAX,cAAUA,QAAQ,EAAlB;;AACA,QAAI,KAAKzB,KAAT,EAAgB;AACf2B,cAAQC,GAAR,CAAY,wCAAwClB,MAAxC,GAAiD,MAAjD,GAA0De,KAA1D,GAAkE,MAAlE,GAA2E,KAAK1B,IAAhF,GAAuF,GAAnG;AACA;;AACDqC,UAAM1B,SAASe,KAAT,GAAiB,KAAK1B,IAA5B;;AACA,QAAI,KAAKE,IAAL,CAAUE,OAAV,KAAsB,QAA1B,EAAoC;AACnCgC,eAAStD,OAAOwD,UAAP,CAAkB,QAAlB,EAA4B,MAA5B,CAAT;AACA,KAFD,MAEO;AACNF,eAAStD,OAAOwD,UAAP,CAAkB,MAAlB,EAA0B,MAA1B,CAAT;AACA;;AACDF,WAAOG,MAAP,CAAcF,GAAd;AACAF,QAAIC,OAAOI,MAAP,CAAc,KAAd,CAAJ;;AACA,QAAI,KAAKvC,KAAT,EAAgB;AACf2B,cAAQC,GAAR,CAAY,wBAAZ,EAAsCM,CAAtC;AACA;;AACD,WAAOA,CAAP;AACA,GAlBD;;AAoBA/C,mBAAiBiB,SAAjB,CAA2B2B,YAA3B,GAA0C,UAAUjB,KAAV,EAAiB;AAC1D,WAAO0B,mBAAmB1B,KAAnB,EAA0B2B,OAA1B,CAAkC,MAAlC,EAA0C,GAA1C,EAA+CA,OAA/C,CAAuD,SAAvD,EAAkEC,MAAlE,EAA0ED,OAA1E,CAAkF,KAAlF,EAAyF,KAAzF,CAAP;AACA,GAFD;;AAIAtD,mBAAiBiB,SAAjB,CAA2BuC,iBAA3B,GAA+C,UAAU7C,GAAV,EAAe;AAC7D,WAAOA,IAAI2C,OAAJ,CAAY,gBAAZ,EAA8B,kBAA9B,CAAP;AACA,GAFD;;AAIA,SAAOtD,gBAAP;AAEA,CA3JkB,EAAnB;;AA6JAE,UAAU,UAAUuD,KAAV,EAAiBC,SAAjB,EAA4B;AACrC,MAAIhC,GAAJ,EAASC,KAAT,EAAgBgC,MAAhB,EAAwBC,IAAxB;;AACAA,SAAO,IAAIC,MAAJ,EAAP;AACAF,WAAS,IAAT;;AACA,OAAKjC,GAAL,IAAY+B,KAAZ,EAAmB;AAClB9B,YAAQ8B,MAAM/B,GAAN,CAAR;;AACA,QAAIgC,UAAUZ,IAAV,CAAeW,KAAf,EAAsB/B,GAAtB,EAA2BC,KAA3B,CAAJ,EAAuC;AACtCiC,WAAKlC,GAAL,IAAYC,KAAZ;AACA;AACD;;AACD,SAAOiC,IAAP;AACA,CAXD;;AAnKAjE,OAAOmE,aAAP,CAgLe9D,gBAhLf;;AAkLAC,yBAAyB,UAAUqB,MAAV,EAAkB;AAC1C,MAAII,GAAJ,EAAS3B,CAAT;;AACA,OAAK2B,GAAL,IAAYJ,MAAZ,EAAoB;AACnBvB,QAAIuB,OAAOI,GAAP,CAAJ;;AACA,QAAIA,IAAIM,KAAJ,CAAU,UAAV,CAAJ,EAA2B;AAC1BV,aAAOI,IAAI4B,OAAJ,CAAY,UAAZ,EAAwB,EAAxB,CAAP,IAAsCvD,CAAtC;AACA;AACD;;AACD,OAAK2B,GAAL,IAAYJ,MAAZ,EAAoB;AACnB,QAAII,IAAIM,KAAJ,CAAU,UAAV,CAAJ,EAA2B;AAC1B,aAAOV,OAAOI,GAAP,CAAP;AACA;AACD;;AACD,SAAOJ,MAAP;AACA,CAdD;;AAgBAnB,oBAAoB,YAAY;AAC/B,SAAO,CAAC,cAAD,EAAiB,GAAjB,EAAsB,OAAtB,EAA+B,WAA/B,EAA4C,SAA5C,CAAP;AACA,CAFD,C","file":"/packages/rocketchat_bigbluebutton.js","sourcesContent":["/* eslint-disable */\nimport crypto from 'crypto';\n\nvar BigBlueButtonApi, filterCustomParameters, include, noChecksumMethods, root,\n\t__indexOf = [].indexOf || function (item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };\n\nBigBlueButtonApi = (function () {\n\tfunction BigBlueButtonApi(url, salt, debug, opts) {\n\t\tvar _base;\n\t\tif (debug == null) {\n\t\t\tdebug = false;\n\t\t}\n\t\tif (opts == null) {\n\t\t\topts = {};\n\t\t}\n\t\tthis.url = url;\n\t\tthis.salt = salt;\n\t\tthis.debug = debug;\n\t\tthis.opts = opts;\n\t\tif ((_base = this.opts).shaType == null) {\n\t\t\t_base.shaType = 'sha1';\n\t\t}\n\t}\n\n\tBigBlueButtonApi.prototype.availableApiCalls = function () {\n\t\treturn ['/', 'create', 'join', 'isMeetingRunning', 'getMeetingInfo', 'end', 'getMeetings', 'getDefaultConfigXML', 'setConfigXML', 'enter', 'configXML', 'signOut', 'getRecordings', 'publishRecordings', 'deleteRecordings', 'updateRecordings', 'hooks/create'];\n\t};\n\n\tBigBlueButtonApi.prototype.urlParamsFor = function (param) {\n\t\tswitch (param) {\n\t\t\tcase \"create\":\n\t\t\t\treturn [[\"meetingID\", true], [\"name\", true], [\"attendeePW\", false], [\"moderatorPW\", false], [\"welcome\", false], [\"dialNumber\", false], [\"voiceBridge\", false], [\"webVoice\", false], [\"logoutURL\", false], [\"maxParticipants\", false], [\"record\", false], [\"duration\", false], [\"moderatorOnlyMessage\", false], [\"autoStartRecording\", false], [\"allowStartStopRecording\", false], [/meta_\\w+/, false]];\n\t\t\tcase \"join\":\n\t\t\t\treturn [[\"fullName\", true], [\"meetingID\", true], [\"password\", true], [\"createTime\", false], [\"userID\", false], [\"webVoiceConf\", false], [\"configToken\", false], [\"avatarURL\", false], [\"redirect\", false], [\"clientURL\", false]];\n\t\t\tcase \"isMeetingRunning\":\n\t\t\t\treturn [[\"meetingID\", true]];\n\t\t\tcase \"end\":\n\t\t\t\treturn [[\"meetingID\", true], [\"password\", true]];\n\t\t\tcase \"getMeetingInfo\":\n\t\t\t\treturn [[\"meetingID\", true], [\"password\", true]];\n\t\t\tcase \"getRecordings\":\n\t\t\t\treturn [[\"meetingID\", false], [\"recordID\", false], [\"state\", false], [/meta_\\w+/, false]];\n\t\t\tcase \"publishRecordings\":\n\t\t\t\treturn [[\"recordID\", true], [\"publish\", true]];\n\t\t\tcase \"deleteRecordings\":\n\t\t\t\treturn [[\"recordID\", true]];\n\t\t\tcase \"updateRecordings\":\n\t\t\t\treturn [[\"recordID\", true], [/meta_\\w+/, false]];\n\t\t\tcase \"hooks/create\":\n\t\t\t\treturn [[\"callbackURL\", false], [\"meetingID\", false]];\n\t\t}\n\t};\n\n\tBigBlueButtonApi.prototype.filterParams = function (params, method) {\n\t\tvar filters, r;\n\t\tfilters = this.urlParamsFor(method);\n\t\tif ((filters == null) || filters.length === 0) {\n\t\t\t({});\n\t\t} else {\n\t\t\tr = include(params, function (key, value) {\n\t\t\t\tvar filter, _i, _len;\n\t\t\t\tfor (_i = 0, _len = filters.length; _i < _len; _i++) {\n\t\t\t\t\tfilter = filters[_i];\n\t\t\t\t\tif (filter[0] instanceof RegExp) {\n\t\t\t\t\t\tif (key.match(filter[0]) || key.match(/^custom_/)) {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (key.match(\"^\" + filter[0] + \"$\") || key.match(/^custom_/)) {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t});\n\t\t}\n\t\treturn filterCustomParameters(r);\n\t};\n\n\tBigBlueButtonApi.prototype.urlFor = function (method, params, filter) {\n\t\tvar checksum, key, keys, param, paramList, property, query, sep, url, _i, _len;\n\t\tif (filter == null) {\n\t\t\tfilter = true;\n\t\t}\n\t\tif (this.debug) {\n\t\t\tconsole.log(\"Generating URL for\", method);\n\t\t}\n\t\tif (filter) {\n\t\t\tparams = this.filterParams(params, method);\n\t\t} else {\n\t\t\tparams = filterCustomParameters(params);\n\t\t}\n\t\turl = this.url;\n\t\tparamList = [];\n\t\tif (params != null) {\n\t\t\tkeys = [];\n\t\t\tfor (property in params) {\n\t\t\t\tkeys.push(property);\n\t\t\t}\n\t\t\tkeys = keys.sort();\n\t\t\tfor (_i = 0, _len = keys.length; _i < _len; _i++) {\n\t\t\t\tkey = keys[_i];\n\t\t\t\tif (key != null) {\n\t\t\t\t\tparam = params[key];\n\t\t\t\t}\n\t\t\t\tif (param != null) {\n\t\t\t\t\tparamList.push(\"\" + (this.encodeForUrl(key)) + \"=\" + (this.encodeForUrl(param)));\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (paramList.length > 0) {\n\t\t\t\tquery = paramList.join(\"&\");\n\t\t\t}\n\t\t} else {\n\t\t\tquery = '';\n\t\t}\n\t\tchecksum = this.checksum(method, query);\n\t\tif (paramList.length > 0) {\n\t\t\tquery = \"\" + method + \"?\" + query;\n\t\t\tsep = '&';\n\t\t} else {\n\t\t\tif (method !== '/') {\n\t\t\t\tquery = method;\n\t\t\t}\n\t\t\tsep = '?';\n\t\t}\n\t\tif (__indexOf.call(noChecksumMethods(), method) < 0) {\n\t\t\tquery = \"\" + query + sep + \"checksum=\" + checksum;\n\t\t}\n\t\treturn \"\" + url + \"/\" + query;\n\t};\n\n\tBigBlueButtonApi.prototype.checksum = function (method, query) {\n\t\tvar c, shaObj, str;\n\t\tquery || (query = \"\");\n\t\tif (this.debug) {\n\t\t\tconsole.log(\"- Calculating the checksum using: '\" + method + \"', '\" + query + \"', '\" + this.salt + \"'\");\n\t\t}\n\t\tstr = method + query + this.salt;\n\t\tif (this.opts.shaType === 'sha256') {\n\t\t\tshaObj = crypto.createHash('sha256', \"TEXT\")\n\t\t} else {\n\t\t\tshaObj = crypto.createHash('sha1', \"TEXT\")\n\t\t}\n\t\tshaObj.update(str);\n\t\tc = shaObj.digest('hex');\n\t\tif (this.debug) {\n\t\t\tconsole.log(\"- Checksum calculated:\", c);\n\t\t}\n\t\treturn c;\n\t};\n\n\tBigBlueButtonApi.prototype.encodeForUrl = function (value) {\n\t\treturn encodeURIComponent(value).replace(/%20/g, '+').replace(/[!'()]/g, escape).replace(/\\*/g, \"%2A\");\n\t};\n\n\tBigBlueButtonApi.prototype.setMobileProtocol = function (url) {\n\t\treturn url.replace(/http[s]?\\:\\/\\//, \"bigbluebutton://\");\n\t};\n\n\treturn BigBlueButtonApi;\n\n})();\n\ninclude = function (input, _function) {\n\tvar key, value, _match, _obj;\n\t_obj = new Object;\n\t_match = null;\n\tfor (key in input) {\n\t\tvalue = input[key];\n\t\tif (_function.call(input, key, value)) {\n\t\t\t_obj[key] = value;\n\t\t}\n\t}\n\treturn _obj;\n};\n\nexport default BigBlueButtonApi;\n\nfilterCustomParameters = function (params) {\n\tvar key, v;\n\tfor (key in params) {\n\t\tv = params[key];\n\t\tif (key.match(/^custom_/)) {\n\t\t\tparams[key.replace(/^custom_/, \"\")] = v;\n\t\t}\n\t}\n\tfor (key in params) {\n\t\tif (key.match(/^custom_/)) {\n\t\t\tdelete params[key];\n\t\t}\n\t}\n\treturn params;\n};\n\nnoChecksumMethods = function () {\n\treturn ['setConfigXML', '/', 'enter', 'configXML', 'signOut'];\n};\n"]}